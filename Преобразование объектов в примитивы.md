**Существуют три варианта преобразований («три хинта»).**

`"string"` - когда операция ожидает получить строку:
- `alert(obj)`
- явное преобразование `String(obj)`

`"number"` - в случае математических операций: 
- явное преобразование `Number(obj)`
- математическое (исключая бинарный оператор "+")
- сравнения больше/меньше

`"default"` - когда оператор «не уверен», какой тип ожидать:
- бинарный плюс
- сравнения `==`

Реализуется тем же способом, что и `"number"`.
Поэтому остается 2 хинта (`"string"` и `"number"`).

Не существует хинта со значением «boolean» 
(все объекты являются `true` в логическом контексте).

---
**В процессе преобразования движок JavaScript пытается найти и вызвать три следующих метода объекта:**

1.  Вызывает `obj[Symbol.toPrimitive](hint)` – метод с символьным ключом `Symbol.toPrimitive` (системный символ), если такой метод существует, и передаёт ему хинт.

2.  Иначе, если хинт равен `"string"`
    -   пытается вызвать `obj.toString()`, а если его нет, то `obj.valueOf()`, если он существует.

3.  В случае, если хинт равен `"number"` или `"default"`
    -   пытается вызвать `obj.valueOf()`, а если его нет, то `obj.toString()`, если он существует.
---
**Методы должны возвращать примитив, а не объект.**

Если `toString` или `valueOf` вернёт объект, то ошибки не будет, но такое значение будет проигнорировано.

Метод `Symbol.toPrimitive`, напротив, *обязан* возвращать примитив, иначе будет ошибка.

---
стандартным строковым представлением пользовательского объекта является строка `"[object Object]"`.
при приведении строки к числу результатом будет `NaN`.

---
почему выдает [object Object] ?

```js
let user = {
    name: "John",
    age: 20,
    valueOf() {
        return this.age;
    },
};

console.log(String(user));
```
---
[[Objects]]